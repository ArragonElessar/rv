#! /usr/bin/vvp
:ivl_version "10.3 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "vhdl_sys";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x55f002c23f80 .scope module, "instr_mem_tb" "instr_mem_tb" 2 3;
 .timescale -9 -12;
P_0x55f002c28fc0 .param/l "MEM_DEPTH" 0 2 6, +C4<00000000000000000000000100000000>;
P_0x55f002c29000 .param/l "START_ADDR" 0 2 7, C4<00000000000000000000000000000000>;
v0x55f002c54c00_0 .var "addr", 31 0;
v0x55f002c54cc0_0 .var "clk", 0 0;
v0x55f002c54d60_0 .var/i "i", 31 0;
v0x55f002c54e50_0 .net "instr", 31 0, L_0x55f002c679f0;  1 drivers
E_0x55f002c34600 .event posedge, v0x55f002c54cc0_0;
S_0x55f002c2dfa0 .scope module, "dut" "instr_mem" 2 21, 3 1 0, S_0x55f002c23f80;
 .timescale -9 -12;
    .port_info 0 /INPUT 32 "addr"
    .port_info 1 /OUTPUT 32 "instr"
P_0x55f002c2e170 .param/l "MEM_DEPTH" 0 3 2, +C4<00000000000000000000000100000000>;
P_0x55f002c2e1b0 .param/str "MEM_FILE" 1 3 9, "sw/mem/fibonacci.mem";
P_0x55f002c2e1f0 .param/l "START_ADDR" 0 3 3, C4<00000000000000000000000000000000>;
L_0x7f46a3806018 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x55f002c224d0_0 .net/2u *"_s0", 31 0, L_0x7f46a3806018;  1 drivers
L_0x7f46a38060a8 .functor BUFT 1, C4<00000000000000000000000100000000>, C4<0>, C4<0>, C4<0>;
v0x55f002c54130_0 .net/2u *"_s10", 31 0, L_0x7f46a38060a8;  1 drivers
v0x55f002c54210_0 .net *"_s12", 0 0, L_0x55f002c677b0;  1 drivers
v0x55f002c542b0_0 .net *"_s14", 31 0, L_0x55f002c67950;  1 drivers
L_0x7f46a38060f0 .functor BUFT 1, C4<00000000000000000000000000010011>, C4<0>, C4<0>, C4<0>;
v0x55f002c54390_0 .net/2u *"_s16", 31 0, L_0x7f46a38060f0;  1 drivers
v0x55f002c544c0_0 .net *"_s6", 31 0, L_0x55f002c67670;  1 drivers
L_0x7f46a3806060 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x55f002c545a0_0 .net *"_s9", 1 0, L_0x7f46a3806060;  1 drivers
v0x55f002c54680_0 .net "addr", 31 0, v0x55f002c54c00_0;  1 drivers
v0x55f002c54760_0 .var/i "i", 31 0;
v0x55f002c54840_0 .net "instr", 31 0, L_0x55f002c679f0;  alias, 1 drivers
v0x55f002c54920 .array "memory", 255 0, 31 0;
v0x55f002c549e0_0 .net "offset", 31 0, L_0x55f002c67410;  1 drivers
v0x55f002c54ac0_0 .net "word_index", 31 2, L_0x55f002c67580;  1 drivers
L_0x55f002c67410 .arith/sub 32, v0x55f002c54c00_0, L_0x7f46a3806018;
L_0x55f002c67580 .part L_0x55f002c67410, 2, 30;
L_0x55f002c67670 .concat [ 30 2 0 0], L_0x55f002c67580, L_0x7f46a3806060;
L_0x55f002c677b0 .cmp/gt 32, L_0x7f46a38060a8, L_0x55f002c67670;
L_0x55f002c67950 .array/port v0x55f002c54920, L_0x55f002c67580;
L_0x55f002c679f0 .functor MUXZ 32, L_0x7f46a38060f0, L_0x55f002c67950, L_0x55f002c677b0, C4<>;
S_0x55f002c222b0 .scope module, "multi_cycle_rv" "multi_cycle_rv" 4 1;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk"
    .port_info 1 /INPUT 1 "rst_n"
P_0x55f002c22430 .param/str "NAME" 0 4 2, "multi_cycle";
o0x7f46a384f6a8 .functor BUFZ 1, C4<z>; HiZ drive
v0x55f002c56f50_0 .net "clk", 0 0, o0x7f46a384f6a8;  0 drivers
v0x55f002c57010_0 .net "instr", 31 0, L_0x55f002c681d0;  1 drivers
v0x55f002c570e0_0 .net "pc", 31 0, v0x55f002c56ce0_0;  1 drivers
v0x55f002c571b0_0 .net "pc_next", 31 0, L_0x55f002c683a0;  1 drivers
o0x7f46a384f738 .functor BUFZ 1, C4<z>; HiZ drive
v0x55f002c572a0_0 .net "rst_n", 0 0, o0x7f46a384f738;  0 drivers
S_0x55f002c54f40 .scope module, "imm" "instr_mem" 4 28, 3 1 0, S_0x55f002c222b0;
 .timescale -9 -12;
    .port_info 0 /INPUT 32 "addr"
    .port_info 1 /OUTPUT 32 "instr"
P_0x55f002c550c0 .param/l "MEM_DEPTH" 0 3 2, +C4<00000000000000000000000100000000>;
P_0x55f002c55100 .param/str "MEM_FILE" 1 3 9, "sw/mem/fibonacci.mem";
P_0x55f002c55140 .param/l "START_ADDR" 0 3 3, +C4<00000000000000000000000000000000>;
L_0x7f46a3806180 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x55f002c553e0_0 .net/2u *"_s0", 31 0, L_0x7f46a3806180;  1 drivers
L_0x7f46a3806210 .functor BUFT 1, C4<00000000000000000000000100000000>, C4<0>, C4<0>, C4<0>;
v0x55f002c554e0_0 .net/2u *"_s10", 31 0, L_0x7f46a3806210;  1 drivers
v0x55f002c555c0_0 .net *"_s12", 0 0, L_0x55f002c67f30;  1 drivers
v0x55f002c55660_0 .net *"_s14", 31 0, L_0x55f002c680a0;  1 drivers
L_0x7f46a3806258 .functor BUFT 1, C4<00000000000000000000000000010011>, C4<0>, C4<0>, C4<0>;
v0x55f002c55740_0 .net/2u *"_s16", 31 0, L_0x7f46a3806258;  1 drivers
v0x55f002c55870_0 .net *"_s6", 31 0, L_0x55f002c67df0;  1 drivers
L_0x7f46a38061c8 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x55f002c55950_0 .net *"_s9", 1 0, L_0x7f46a38061c8;  1 drivers
v0x55f002c55a30_0 .net "addr", 31 0, v0x55f002c56ce0_0;  alias, 1 drivers
v0x55f002c55b10_0 .var/i "i", 31 0;
v0x55f002c55bf0_0 .net "instr", 31 0, L_0x55f002c681d0;  alias, 1 drivers
v0x55f002c55cd0 .array "memory", 255 0, 31 0;
v0x55f002c55d90_0 .net "offset", 31 0, L_0x55f002c67c10;  1 drivers
v0x55f002c55e70_0 .net "word_index", 31 2, L_0x55f002c67d00;  1 drivers
L_0x55f002c67c10 .arith/sub 32, v0x55f002c56ce0_0, L_0x7f46a3806180;
L_0x55f002c67d00 .part L_0x55f002c67c10, 2, 30;
L_0x55f002c67df0 .concat [ 30 2 0 0], L_0x55f002c67d00, L_0x7f46a38061c8;
L_0x55f002c67f30 .cmp/gt 32, L_0x7f46a3806210, L_0x55f002c67df0;
L_0x55f002c680a0 .array/port v0x55f002c55cd0, L_0x55f002c67d00;
L_0x55f002c681d0 .functor MUXZ 32, L_0x7f46a3806258, L_0x55f002c680a0, L_0x55f002c67f30, C4<>;
S_0x55f002c55fb0 .scope module, "pc_adder" "adder32" 4 33, 5 2 0, S_0x55f002c222b0;
 .timescale -9 -12;
    .port_info 0 /INPUT 32 "a"
    .port_info 1 /INPUT 32 "b"
    .port_info 2 /OUTPUT 32 "sum"
v0x55f002c56180_0 .net "a", 31 0, v0x55f002c56ce0_0;  alias, 1 drivers
L_0x7f46a38062a0 .functor BUFT 1, C4<00000000000000000000000000000100>, C4<0>, C4<0>, C4<0>;
v0x55f002c56260_0 .net "b", 31 0, L_0x7f46a38062a0;  1 drivers
v0x55f002c56320_0 .net "sum", 31 0, L_0x55f002c683a0;  alias, 1 drivers
L_0x55f002c683a0 .arith/sum 32, v0x55f002c56ce0_0, L_0x7f46a38062a0;
S_0x55f002c56490 .scope module, "program_counter" "register" 4 14, 6 1 0, S_0x55f002c222b0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk"
    .port_info 1 /INPUT 1 "rst_n"
    .port_info 2 /INPUT 1 "en"
    .port_info 3 /INPUT 32 "pc_next"
    .port_info 4 /OUTPUT 32 "pc"
P_0x55f002c56690 .param/l "RESET_VALUE" 0 6 3, C4<00000000000000000000000000000000>;
P_0x55f002c566d0 .param/l "WIDTH" 0 6 2, +C4<00000000000000000000000000100000>;
v0x55f002c56980_0 .net "clk", 0 0, o0x7f46a384f6a8;  alias, 0 drivers
L_0x7f46a3806138 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v0x55f002c56a40_0 .net "en", 0 0, L_0x7f46a3806138;  1 drivers
v0x55f002c56b00_0 .net "pc", 31 0, v0x55f002c56ce0_0;  alias, 1 drivers
v0x55f002c56c20_0 .net "pc_next", 31 0, L_0x55f002c683a0;  alias, 1 drivers
v0x55f002c56ce0_0 .var "pc_reg", 31 0;
v0x55f002c56df0_0 .net "rst_n", 0 0, o0x7f46a384f738;  alias, 0 drivers
E_0x55f002c28e20 .event posedge, v0x55f002c56980_0;
    .scope S_0x55f002c2dfa0;
T_0 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x55f002c54760_0, 0, 32;
T_0.0 ;
    %load/vec4 v0x55f002c54760_0;
    %cmpi/s 256, 0, 32;
    %jmp/0xz T_0.1, 5;
    %pushi/vec4 0, 0, 32;
    %ix/getv/s 4, v0x55f002c54760_0;
    %store/vec4a v0x55f002c54920, 4, 0;
    %load/vec4 v0x55f002c54760_0;
    %addi 1, 0, 32;
    %store/vec4 v0x55f002c54760_0, 0, 32;
    %jmp T_0.0;
T_0.1 ;
    %vpi_call 3 30 "$display", "Loading memory from: %s", P_0x55f002c2e1b0 {0 0 0};
    %vpi_call 3 31 "$readmemh", P_0x55f002c2e1b0, v0x55f002c54920 {0 0 0};
    %end;
    .thread T_0;
    .scope S_0x55f002c23f80;
T_1 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x55f002c54cc0_0, 0, 1;
    %end;
    .thread T_1;
    .scope S_0x55f002c23f80;
T_2 ;
    %delay 5000, 0;
    %load/vec4 v0x55f002c54cc0_0;
    %inv;
    %store/vec4 v0x55f002c54cc0_0, 0, 1;
    %jmp T_2;
    .thread T_2;
    .scope S_0x55f002c23f80;
T_3 ;
    %vpi_call 2 29 "$display", "\012==== Instruction Memory Test ====" {0 0 0};
    %vpi_call 2 30 "$display", "Reading first 50 memory words...\012" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x55f002c54c00_0, 0, 32;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x55f002c54d60_0, 0, 32;
T_3.0 ;
    %load/vec4 v0x55f002c54d60_0;
    %cmpi/s 50, 0, 32;
    %jmp/0xz T_3.1, 5;
    %wait E_0x55f002c34600;
    %vpi_call 2 37 "$display", "addr: 0x%08h -> instr: 0x%08h", v0x55f002c54c00_0, v0x55f002c54e50_0 {0 0 0};
    %load/vec4 v0x55f002c54c00_0;
    %addi 4, 0, 32;
    %store/vec4 v0x55f002c54c00_0, 0, 32;
    %load/vec4 v0x55f002c54d60_0;
    %addi 1, 0, 32;
    %store/vec4 v0x55f002c54d60_0, 0, 32;
    %jmp T_3.0;
T_3.1 ;
    %vpi_call 2 41 "$display", "\012==== Done ====" {0 0 0};
    %vpi_call 2 42 "$finish" {0 0 0};
    %end;
    .thread T_3;
    .scope S_0x55f002c56490;
T_4 ;
    %wait E_0x55f002c28e20;
    %load/vec4 v0x55f002c56df0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x55f002c56ce0_0, 0;
    %jmp T_4.1;
T_4.0 ;
    %load/vec4 v0x55f002c56a40_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.2, 8;
    %load/vec4 v0x55f002c56c20_0;
    %assign/vec4 v0x55f002c56ce0_0, 0;
T_4.2 ;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_0x55f002c54f40;
T_5 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x55f002c55b10_0, 0, 32;
T_5.0 ;
    %load/vec4 v0x55f002c55b10_0;
    %cmpi/s 256, 0, 32;
    %jmp/0xz T_5.1, 5;
    %pushi/vec4 0, 0, 32;
    %ix/getv/s 4, v0x55f002c55b10_0;
    %store/vec4a v0x55f002c55cd0, 4, 0;
    %load/vec4 v0x55f002c55b10_0;
    %addi 1, 0, 32;
    %store/vec4 v0x55f002c55b10_0, 0, 32;
    %jmp T_5.0;
T_5.1 ;
    %vpi_call 3 30 "$display", "Loading memory from: %s", P_0x55f002c55100 {0 0 0};
    %vpi_call 3 31 "$readmemh", P_0x55f002c55100, v0x55f002c55cd0 {0 0 0};
    %end;
    .thread T_5;
# The file index is used to find the file name in the following table.
:file_names 7;
    "N/A";
    "<interactive>";
    "testbench/basic/instr_mem_tb.v";
    "rtl/memory/instr_mem.v";
    "rtl/core/multi_cycle_rv.v";
    "rtl/basic/adder32.v";
    "rtl/basic/register.v";
